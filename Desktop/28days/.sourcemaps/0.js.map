{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/validators/email.ts","../../src/validators/password.ts","../../src/pages/signup/signup.ts","../../src/validators/match-other-validator.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SignupPage } from './signup';\n\n@NgModule({\n  declarations: [\n    SignupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SignupPage),\n  ],\n})\nexport class SignupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import { FormControl } from '@angular/forms';\n\nexport class EmailValidator {\n\n  static isValid(control: FormControl){\n    const re = /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/.test(control.value);\n\n    if (re){\n      return null;\n    }\n\n    return {\n      \"invalidEmail\": true\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts","import { FormControl } from '@angular/forms';\n\nexport class PasswordValidator {\n\n  static isValid(control: FormControl){\n  \tconst re = /\\d/.test(control.value) && /[a-zA-Z]/.test(control.value);\n\n    if (re){\n      return null;\n    }\n\n    return {\n      \"invalidPassword\": true\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators/password.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController, Loading, AlertController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { UserProvider } from '../../providers/user/user';\nimport { EmailValidator } from '../../validators/email';\nimport { matchOtherValidator } from '../../validators/match-other-validator';\nimport { PasswordValidator } from '../../validators/password';\nimport { Storage } from '@ionic/storage';\n\n/**\n * Generated class for the SignupPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class SignupPage {\n  signupForm: FormGroup;\n  loading: Loading;\n  usernameAvailable: boolean;\n  clickmale = false;\n  clickfemale = false;\n  gender = '';\n  constructor(public navCtrl: NavController, public auth: AuthProvider, public user: UserProvider,\n    public formBuilder: FormBuilder, public loadingCtrl: LoadingController, public alertCtrl: AlertController,\n    public storage: Storage) {\n    this.signupForm = formBuilder.group({\n    \tname: ['', Validators.compose([Validators.required, Validators.maxLength(8)])],\n      email: ['', Validators.compose([Validators.required, EmailValidator.isValid])],\n  \t\tpassword: ['', Validators.compose([Validators.required, Validators.minLength(8), PasswordValidator.isValid])],\n    \tpasswordconfirm: ['', Validators.compose([Validators.required, matchOtherValidator('password')])],\n      age: ['', Validators.required]\n    });\n  }\n\n  signupUser(){\n    if (!this.signupForm.valid || !this.usernameAvailable || this.gender == '') {\n      console.log(this.signupForm.value.name);\n      let alert = this.alertCtrl.create({\n        title: '회원가입 오류',\n        message: '모든 항목을 모두 입력하였는지 확인하여 주시고 각 항목의 형식을 지켜주세요!',\n        buttons: [\n          {\n            text: '확인',\n            role: 'cancel'\n          }\n        ]\n      });\n      alert.present();\n    } else {\n      this.auth.signupUser(this.signupForm.value.email, this.signupForm.value.password).then(() => {\n      \tthis.user.updateUserprofile(this.signupForm.value.name, this.gender, this.signupForm.value.age).then(() => {\n          this.storage.set('localcred', {\n            email: this.signupForm.value.email,\n            password: this.signupForm.value.password\n          });\n          this.navCtrl.push('GogosignupPage');\n        });\n      }, (error) => {\n        console.log(JSON.stringify(error));\n        var message;\n        if (error.code == 'auth/email-already-in-use') {\n          message = '이미 등록된 이메일 주소입니다.<br>다시 확인해주세요!';\n        } else {\n          message = error.message;\n        }\n        this.loading.dismiss().then(() => {\n          let alert = this.alertCtrl.create({\n            title: '회원가입 오류',\n            message: message,\n            buttons: [\n              {\n                text: '확인',\n                role: 'cancel'\n              }\n            ]\n          });\n          alert.present();\n        });\n      });\n      this.loading = this.loadingCtrl.create({\n        dismissOnPageChange: true,\n      });\n      this.loading.present();\n    }\n  }\n\n  checkUsername() {\n    if (this.signupForm.value.name.length > 0) {\n      this.user.checkUsername(this.signupForm.value.name).then((snapshot) => {\n        this.usernameAvailable = !snapshot.exists();\n      });\n    }\n  }\n\n  setMale() {\n    this.clickmale = true;\n    this.clickfemale = false;\n    this.gender = 'M';\n  }\n\n  setFemale() {\n    this.clickmale = false;\n    this.clickfemale = true;\n    this.gender = 'F';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import {FormControl} from '@angular/forms';\n\n\nexport function matchOtherValidator (otherControlName: string) {\n\n  let thisControl: FormControl;\n  let otherControl: FormControl;\n\n  return function matchOtherValidate (control: FormControl) {\n\n    if (!control.parent) {\n      return null;\n    }\n\n    // Initializing the validator.\n    if (!thisControl) {\n      thisControl = control;\n      otherControl = control.parent.get(otherControlName) as FormControl;\n      if (!otherControl) {\n        throw new Error('matchOtherValidator(): other control is not found in parent group');\n      }\n      otherControl.valueChanges.subscribe(() => {\n        thisControl.updateValueAndValidity();\n      });\n    }\n\n    if (!otherControl) {\n      return null;\n    }\n\n    if (otherControl.value !== thisControl.value) {\n      return {\n        matchOther: true\n      };\n    }\n\n    return null;\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators/match-other-validator.ts"],"sourceRoot":""}