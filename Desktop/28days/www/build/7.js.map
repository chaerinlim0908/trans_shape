{"version":3,"sources":["../../src/pages/supporter/supporter.module.ts","../../src/pages/supporter/supporter.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SupporterPage } from './supporter';\n\n@NgModule({\n  declarations: [\n    SupporterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SupporterPage),\n  ],\n})\nexport class SupporterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supporter/supporter.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController, AlertController } from 'ionic-angular';\nimport { ChatProvider } from '../../providers/chat/chat';\n\n/**\n * Generated class for the SupporterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-supporter',\n  templateUrl: 'supporter.html',\n})\nexport class SupporterPage {\n\tuserprofiles;\n\tuser;\n\tcount;\n\tusernum;\n  loading;\n  loadComplete = false;\n  ratingsA;\n  ratingsB;\n  ratingsC;\n  ratingsD;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public chat: ChatProvider,\n    public viewCtrl: ViewController, public loadingCtrl: LoadingController, public alertCtrl: AlertController) {\n  \t\n  }\n\n  ionViewDidLoad() {\n    this.loading = this.loadingCtrl.create();\n    this.loading.present();\n  \tthis.count = 0;\n    this.chat.getallusersExceptbuddy().then((res) => {\n      console.log('SupporterPage - getallusersExceptbuddy - userprofiles : ' + JSON.stringify(res));\n    \tthis.userprofiles = res;\n    \tthis.usernum = this.userprofiles.length;\n      if (this.usernum == 0) {\n        let alert = this.alertCtrl.create({\n          title: '대화 가능한 서포터가 없습니다.',\n          message: '현재 대화 중인 서포터를 제외한 다른 서포터가 없습니다.',\n          buttons: [\n            {\n              text: '확인',\n              role: 'cancel',\n              handler: () => {\n                this.loading.dismiss();\n                this.navCtrl.setRoot('HomePage');\n              }\n            }\n          ]\n        });\n        alert.present();\n      } else {\n        this.user = this.userprofiles[this.count];\n        this.ratingsA = this.makeRating(0);\n        this.ratingsB = this.makeRating(0);\n        this.ratingsC = this.makeRating(0);\n        this.ratingsD = this.makeRating(0);\n        this.loadComplete = true;\n      }\n      this.loading.dismiss();\n    });\n  }\n\n  nextSupporter() {\n    if (this.usernum <= 1) {\n      return;\n    }\n  \tthis.count++;\n  \tif (this.count == this.usernum) {\n  \t\tthis.count = 0;\n  \t}\n  \tthis.user = this.userprofiles[this.count];\n  }\n\n  sendRequest() {\n    this.chat.initializebuddy(this.userprofiles[this.count]);\n    this.navCtrl.push('SupporterchatPage').then(() => {\n      var index = this.viewCtrl.index;\n      this.navCtrl.remove(index);\n    });\n  }\n\n  makeRating(num) {\n    var ratings = [];\n    for (var i = 1; i < 6; i++) { \n      var rating: any = {};\n      if (i <= num) {\n        rating.src = 'assets/star-full.png';\n      } else {\n        rating.src = 'assets/star.png';\n      }\n      ratings.push(rating);\n    }\n    // console.log(JSON.stringify(ratings));\n    return ratings;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supporter/supporter.ts"],"sourceRoot":""}